{%- extends "templateLoops/objLoop_instance_calo_calo_correlation_condition.j2" %}
{%- block instance_calo_calo_correlation_condition %}
  {%- set cuts = condition.template %}
  {%- set obj1 = cuts.objects[0] %}
  {%- set obj2 = cuts.objects[1] %}
{{condName|lower}}_i: entity work.calo_calo_correlation_condition
  generic map(
    {{cuts.objectsInSameBx}},
	  {{cuts.hasDetaCut |lower}}, {{cuts.hasDphiCut |lower}}, {{cuts.hasDrCut |lower}}, {{cuts.hasMassCut |lower}},
	  NR_{{obj1.type |upper}}_OBJECTS, {{obj1.operator |lower}}, {{obj1.type |upper}}_TYPE,
    X"{{obj1.Thresholds[0]|X04}}",
    {{obj1.EtaFullRange[0]}}, X"{{obj1.EtaW1UpperLimits[0]|X04}}", (X"{{obj1.EtaW1LowerLimits[0]|X04}}",
    {{obj1.EtaW2Ignore[0]}}, X"{{obj1.EtaW2UpperLimits[0]|X04}}", X"{{obj1.EtaW2LowerLimits[0]|X04}}",
    {{obj1.PhiFullRange[0]}}, X"{{obj1.PhiW1UpperLimits[0]|X04}}", X"{{obj1.PhiW1LowerLimits[0]|X04}}",
	  X"{{obj1.IsolationLUTs[0]|X01}}",
	  NR_{{obj2.type |upper}}_OBJECTS, {{obj2.operator |lower}}, {{obj2.type |upper}}_TYPE,
    X"{{obj2.Thresholds[0]|X04}}",
    {{obj2.EtaFullRange[0]}}, X"{{obj2.EtaW1UpperLimits[0]|X04}}", (X"{{obj2.EtaW1LowerLimits[0]|X04}}",
    {{obj2.EtaW2Ignore[0]}}, X"{{obj2.EtaW2UpperLimits[0]|X04}}", X"{{obj2.EtaW2LowerLimits[0]|X04}}",
    {{obj2.PhiFullRange[0]}}, X"{{obj2.PhiW1UpperLimits[0]|X04}}", X"{{obj2.PhiW1LowerLimits[0]|X04}}",
	  X"{{obj2.IsolationLUTs[0]|X01}}",
    {{cuts.DiffEtaUpperLimit}}, {{cuts.DiffEtaLowerLimit}},
    {{cuts.DiffPhiUpperLimit}}, {{cuts.DiffPhiLowerLimit}},
    {{cuts.DeltaRUpperLimit}}, {{cuts.DeltaRLowerLimit}}, DETA_DPHI_VECTOR_WIDTH_ALL, {{obj1.type |upper}}_{{obj2.type |upper}}_DETA_DPHI_PRECISION,
    {{cuts.InvMassUpperLimit}}, {{cuts.InvMassLowerLimit}}, {{obj1.type |upper}}_{{obj2.type |upper}}_INV_MASS_PRECISION,
    {{obj1.type |upper}}_PT_VECTOR_WIDTH, {{obj2.type |upper}}_PT_VECTOR_WIDTH, {{obj1.type |upper}}_{{obj2.type |upper}}_COSH_COS_PRECISION, {{obj1.type |upper}}_{{obj2.type |upper}}_COSH_COS_VECTOR_WIDTH
  )
  port map(lhc_clk, {{obj1.type|lower}}_bx_{{obj1.bx|lower}}, {{obj2.type|lower}}_bx_{{obj2.bx|lower}},
	         diff_{{obj1.type|lower}}_{{obj2.type|lower}}_bx_{{obj1.bx|lower}}_bx_{{obj2.bx|lower}}_eta_vector, diff_{{obj1.type|lower}}_{{obj2.type|lower}}_bx_{{obj1.bx|lower}}_bx_{{obj2.bx|lower}}_phi_vector,
           {{obj1.type|lower}}_et_vector_bx_{{obj1.bx|lower}}, {{obj2.type|lower}}_et_vector_bx_{{obj2.bx|lower}}, 
           {{obj1.type|lower}}_{{obj2.type|lower}}_bx_{{obj1.bx|lower}}_bx_{{obj2.bx|lower}}_cosh_deta_vector, {{obj1.type|lower}}_{{obj2.type|lower}}_bx_{{obj1.bx|lower}}_bx_{{obj2.bx|lower}}_cos_dphi_vector,
	         {{condName|lower}});
{% endblock instance_calo_calo_correlation_condition %}
